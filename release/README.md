# 虎鲸笔记大纲插件

将笔记层级结构可视化为交互式思维导图的虎鲸笔记插件。

## ✨ 功能特性

- 📖 **大纲可视化**：将笔记块的树形结构渲染为清晰的层级视图
- 🎯 **交互体验**：支持节点点击展开/折叠，悬停高亮等交互效果
- 🎨 **主题适配**：自动适配虎鲸笔记的明暗主题
- ⚡ **实时更新**：笔记内容变化时自动刷新大纲视图
- 🔧 **丰富功能**：工具栏按钮、快捷键支持、面板管理

## 🚀 快速开始

### 安装

1. 下载插件文件到虎鲸笔记的插件目录：`orca/plugins/outline-plugin/`
2. 重启虎鲸笔记应用
3. 在插件管理中启用"大纲插件"

### 使用方法

- **工具栏按钮**：点击工具栏中的层级图标 📖
- **快捷键**：`Ctrl+M` 切换大纲视图显示/隐藏
- **命令面板**：搜索"显示大纲视图"命令

## 🛠️ 开发说明

### 项目结构

```
outline-plugin/
├── src/
│   ├── main.ts              # 插件主入口
│   ├── types.ts             # 类型定义
│   ├── components/
│   │   └── MindMap.ts       # 思维导图渲染器
│   ├── utils/
│   │   └── helpers.ts       # 工具函数
│   ├── styles/
│   │   └── main.css         # 样式文件
│   └── __tests__/           # 测试文件
├── dist/
│   ├── index.js             # 编译后的主文件
│   └── style.css            # 编译后的样式
├── icon.png                 # 插件图标
├── package.json             # 项目配置
└── README.md                # 说明文档
```

### 构建命令

```bash
# 安装依赖
npm install

# 开发模式（监听文件变化）
npm run dev

# 构建生产版本
npm run build

# 运行测试
npm test

# 清理构建文件
npm run clean
```

### 核心技术

- **语言**：TypeScript
- **构建工具**：Vite
- **测试框架**：Jest
- **UI渲染**：原生DOM操作
- **样式**：CSS + CSS变量

## 📋 API 接口

插件使用虎鲸笔记提供的标准API：

- `orca.state.blocks` - 获取笔记块数据
- `orca.commands` - 命令注册和管理
- `orca.toolbar` - 工具栏按钮集成
- `orca.nav` - 面板管理
- `orca.notify` - 用户通知
- `orca.broadcasts` - 事件系统

## 🔧 配置选项

插件提供以下配置选项：

- **自动刷新**：内容变化时是否自动更新视图
- **最大层级**：限制显示的最大层级数
- **显示主题**：选择明暗主题或跟随系统

## 🎯 使用场景

- 📝 **大型笔记梳理**：快速了解复杂笔记的整体结构
- 🔍 **内容导航**：通过大纲快速定位到具体内容
- 📊 **知识架构**：可视化知识体系和思维框架
- ✏️ **写作辅助**：文章、报告的结构规划和调整

## 🔒 权限说明

插件需要以下权限：

- `read-blocks`：读取笔记块数据
- `write-ui`：创建和管理UI界面
- `store-data`：保存插件配置和状态

## 🐛 问题反馈

如遇到问题或有功能建议，请：

1. 检查虎鲸笔记版本是否 >= 1.5.0
2. 查看浏览器开发者工具中的错误信息
3. 重启虎鲸笔记应用
4. 联系插件开发者

## 📄 许可证

MIT License

---

**开发者**：虎鲸笔记插件开发团队  
**版本**：1.0.0  
**兼容性**：虎鲸笔记 1.5.0+