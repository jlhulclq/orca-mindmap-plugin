# 虎鲸笔记大纲插件 - 使用说明

## 🎯 插件简介

这是一个为虎鲸笔记开发的大纲可视化插件，能将笔记的层级结构以交互式思维导图的形式展示，帮助用户更好地理解和导航复杂的笔记内容。

## 📦 安装方法

### 方法一：直接安装
1. 将 `outline-plugin-v1.0.0.zip` 解压
2. 将解压后的文件夹复制到虎鲸笔记插件目录：`{虎鲸笔记安装目录}/plugins/`
3. 重命名文件夹为 `outline-plugin`
4. 重启虎鲸笔记应用
5. 在设置 → 插件管理中启用"大纲插件"

### 方法二：使用发布包
1. 直接将 `release` 文件夹内容复制到插件目录
2. 重启虎鲸笔记
3. 启用插件

## 🚀 功能使用

### 基础操作

1. **显示大纲**
   - 点击工具栏的层级结构图标 📖
   - 使用快捷键 `Ctrl+M`
   - 在命令面板中搜索"显示大纲视图"

2. **切换显示**
   - 再次按 `Ctrl+M` 可关闭大纲面板
   - 点击面板关闭按钮

### 交互功能

- **悬停高亮**：鼠标悬停在节点上会高亮显示
- **点击展开**：点击有子节点的项目可展开/折叠
- **层级显示**：不同层级使用不同的缩进和样式
- **实时更新**：笔记内容变化时自动刷新视图

## ⚙️ 配置选项

插件提供以下配置选项（在插件设置中调整）：

- **自动刷新**：内容变化时是否自动更新大纲（默认开启）
- **最大层级**：限制显示的最大层级数（默认5级）
- **显示主题**：跟随系统/明亮/暗黑（默认跟随系统）

## 🎨 界面说明

### 大纲面板组成

```
┌─────────────────────────────┐
│ 📖 笔记大纲结构    [控制按钮] │ ← 标题栏
├─────────────────────────────┤
│ ● 第一层级标题              │ ← 根节点（粗体）
│   ○ 第二层级内容            │ ← 子节点
│     ▪ 第三层级详情          │ ← 孙节点
│       ▫ 第四层级说明        │ ← 更深层级
├─────────────────────────────┤
│ 💡 层级结构可视化 | 共X个块  │ ← 统计信息
└─────────────────────────────┘
```

### 样式说明

- **根节点**：左侧有蓝色边线，字体加粗
- **不同层级**：使用不同的项目符号（●○▪▫‣）
- **颜色渐变**：层级越深颜色越浅
- **交互效果**：悬停时背景高亮，有动画过渡

## 🔧 高级功能

### 自定义样式

插件使用 CSS 变量适配虎鲸笔记主题，支持：
- 自动明暗主题切换
- 响应式设计（手机端友好）
- 平滑动画效果

### 性能优化

- 防抖处理：频繁更新时自动延迟刷新
- 懒加载：大型文档只渲染可见部分
- 内存管理：插件卸载时自动清理资源

## 🐛 常见问题

### Q1：插件无法加载？
**A**：检查虎鲸笔记版本是否 ≥ 1.5.0，确保插件文件完整。

### Q2：大纲显示为空？
**A**：确认当前笔记有内容块，检查笔记是否有层级结构。

### Q3：快捷键不生效？
**A**：确认插件已启用，快捷键为 `Ctrl+M`（Mac上为 `Cmd+M`）。

### Q4：样式显示异常？
**A**：重启虎鲸笔记应用，清除浏览器缓存。

### Q5：性能卡顿？
**A**：大型笔记建议限制最大显示层级，关闭不必要的实时更新。

## 📊 使用场景

### 1. 学术写作
- 论文大纲整理
- 章节结构规划
- 参考文献组织

### 2. 项目管理
- 任务分解结构
- 项目里程碑跟踪
- 团队协作文档

### 3. 知识管理
- 知识体系构建
- 学习笔记整理
- 思维框架梳理

### 4. 内容创作
- 文章结构规划
- 博客内容组织
- 演讲稿大纲

## 🔒 权限说明

插件需要以下权限：
- `read-blocks`：读取笔记块数据（用于构建大纲结构）
- `write-ui`：创建用户界面（显示大纲面板）
- `store-data`：保存配置信息（记住用户设置）

所有权限都仅在插件功能范围内使用，不会访问其他数据。

## 🆕 更新日志

### v1.0.0 (初版)
- ✅ 基础大纲显示功能
- ✅ 交互式节点展开/折叠
- ✅ 主题自适应
- ✅ 实时内容同步
- ✅ 快捷键支持
- ✅ 工具栏集成

## 📞 技术支持

如需帮助或反馈建议：
1. 查看浏览器开发者工具控制台错误信息
2. 确认虎鲸笔记和插件版本兼容性
3. 尝试禁用其他插件排查冲突
4. 联系开发团队获取技术支持

---

**祝你使用愉快！** 🎉